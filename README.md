# Система управления персоналом

Веб-приложение для управления персоналом компании, разработанное с использованием Python Flask и MySQL.

## Описание проекта

Система позволяет:
- Управлять данными сотрудников (добавление, редактирование, просмотр)
- Вести учет должностей и назначений
- Отслеживать образование сотрудников
- Просматривать аналитику и статистику
- Генерировать отчеты

## Технологии

- Python 3.8+
- Flask (веб-фреймворк)
- MySQL (база данных)
- Bootstrap 5 (фронтенд)
- Font Awesome (иконки)

## Установка и настройка

### 1. Установка OpenServer

1. Скачайте OpenServer с официального сайта: https://ospanel.io/
2. Установите OpenServer, следуя инструкциям установщика
3. После установки запустите OpenServer
4. В трее правой кнопкой нажмите на иконку OpenServer -> Настройки
   - Во вкладке "Модули" убедитесь, что выбран MySQL-8.0
   - В "PHP" выберите версию 8.0+

### 2. Настройка базы данных

1. Откройте phpMyAdmin:
   - Правой кнопкой на иконку OpenServer в трее
   - Выберите "Дополнительно" -> "phpMyAdmin"
   - Или перейдите по адресу: http://localhost/phpmyadmin
   - Логин: root
   - Пароль: root

2. Импорт базы данных:
   - В phpMyAdmin нажмите "Импорт" в верхнем меню
   - Нажмите "Выберите файл" и укажите `database.sql` из корня проекта
   - Убедитесь, что выбрана кодировка UTF-8
   - Нажмите "Выполнить"

### 3. Настройка Python окружения

1. Установите Python 3.8 или выше
2. Создайте виртуальное окружение:
```bash
python -m venv venv
```
3. Активируйте виртуальное окружение:
   - Windows: `venv\Scripts\activate`
   - Linux/Mac: `source venv/bin/activate`

4. Установите зависимости:
```bash
pip install flask pymysql
```

### 4. Запуск приложения

1. Убедитесь, что OpenServer запущен и MySQL сервер активен
2. Активируйте виртуальное окружение Python
3. Запустите приложение:
```bash
python app.py
```
4. Откройте браузер и перейдите по адресу: http://localhost:5000

## Структура проекта

```
project/
├── app.py              # Основной файл приложения
├── database.sql        # SQL файл с структурой базы данных
├── templates/          # HTML шаблоны
│   ├── base.html      # Базовый шаблон
│   ├── index.html     # Главная страница
│   ├── management.html # Управление сотрудниками
│   ├── analytics.html # Аналитика
│   └── settings.html  # Настройки
└── static/            # Статические файлы (CSS, JS)
```

## Структура базы данных

### Таблицы:
1. `education_types` - типы образования
   - id (INT, PRIMARY KEY)
   - name (VARCHAR(100))
   - created_at (TIMESTAMP)

2. `positions` - должности
   - id (INT, PRIMARY KEY)
   - title (VARCHAR(100))
   - description (TEXT)
   - created_at (TIMESTAMP)

3. `employees` - сотрудники
   - id (INT, PRIMARY KEY)
   - first_name (VARCHAR(100))
   - last_name (VARCHAR(100))
   - education_type_id (INT, FOREIGN KEY)
   - created_at (TIMESTAMP)

4. `employee_positions` - назначения на должности
   - id (INT, PRIMARY KEY)
   - employee_id (INT, FOREIGN KEY)
   - position_id (INT, FOREIGN KEY)
   - start_date (DATE)
   - end_date (DATE)
   - created_at (TIMESTAMP)

## Основные функции

### 1. Управление персоналом
- Просмотр списка всех сотрудников
- Добавление нового сотрудника
- Редактирование информации о сотруднике
- Назначение на должность
- История назначений

### 2. Аналитика
- Статистика по должностям
- Распределение по типам образования
- Графики и диаграммы

### 3. Настройки
- Управление справочниками
- Конфигурация системы

## Решение проблем

### Ошибка подключения к базе данных
1. Проверьте, что OpenServer запущен
2. Убедитесь, что MySQL сервер активен
3. Проверьте параметры подключения в `app.py`:
   ```python
   db_config = {
       'host': 'localhost',
       'user': 'root',
       'password': 'root',
       'database': 'employees',
       'charset': 'utf8mb4'
   }
   ```

### Проблемы с кодировкой
1. Убедитесь, что база данных использует кодировку utf8mb4
2. Проверьте наличие заголовка в HTML шаблонах:
   ```html
   <meta charset="UTF-8">
   ```

## Резервное копирование

### Экспорт базы данных через phpMyAdmin:
1. Откройте phpMyAdmin
2. Выберите базу данных "employees"
3. Нажмите "Экспорт" в верхнем меню
4. Выберите "Пользовательский" метод
5. Отметьте опции:
   - Структура
   - Данные
   - CREATE DATABASE
   - USE DATABASE
6. Выберите формат SQL
7. Нажмите "Выполнить"
